files:
    "/etc/nginx/conf.d/elasticbeanstalk-nginx-docker-upstream.conf":
        mode: "000755"
        owner: root
        group: root
        content: |
          upstream docker {
            server 127.0.0.1:8080;
            keepalive 256;
          }

    "/etc/nginx/conf.d/00_elastic_beanstalk_proxy.conf":
        mode: "000755"
        owner: root
        group: root
        content: |
            server {
                listen 80;
                gzip on;

                location / {
                    resolver 8.8.8.8;
                    proxy_pass  http://docker;
                    proxy_http_version  1.1;
                    proxy_set_header  Connection  $connection_upgrade;
                    proxy_set_header  Upgrade $http_upgrade;
                    proxy_set_header  Host  $host;
                    proxy_set_header  X-Real-IP $remote_addr;
                    proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
                }
            }
    "/etc/nginx/conf.d/proxy.conf" :
        mode: "000755"
        owner: root
        group: root
        content: |
           client_max_body_size       250M;
           proxy_connect_timeout       300;
           proxy_send_timeout          300;
           proxy_read_timeout          300;
           send_timeout                300;
