(this["webpackJsonpdevias-material-kit-pro"]=this["webpackJsonpdevias-material-kit-pro"]||[]).push([[37],{1483:function(e,t,a){"use strict";a.r(t);var n=a(148),l=a(15),r=a(49),o=a(0),c=a.n(o),i=a(4),d=a.n(i),u=a(1165),m=a(1074),s=a(1167),f=a(1168),p=a(1169),b=a(1170),v=a(227),g=a(6),h=a(34),y=a(885),E=a(936),j=a(898),O=a(899),D=a(289),C=(a(1171),a(1172),a(1173),a(1174),a(31)),k=a(97),w=a(23),N=a(10),A=a(2),x=a(3),M=a.n(x),W=a(40),Y=a(929),T=a(983),S=a(1022),B=a(884),V=a(922),G=a(169),P=a(524),R=a(956),H=a.n(R),I=Object(v.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",boxShadow:e.shadows[20],width:700,maxHeight:"100%",overflowY:"auto",maxWidth:"100%"},field:{marginTop:e.spacing(3)},cancelButton:{marginLeft:"auto"},confirmButton:{color:e.palette.common.white,backgroundColor:g.a.green[600],"&:hover":{backgroundColor:g.a.green[900]}}}})),J={title:"Event title",desc:"Event description",allDay:!1,start:d()().toDate(),end:d()().toDate()},z=Object(o.forwardRef)((function(e,t){var a=e.event,n=e.onDelete,i=e.onCancel,u=e.onAdd,m=e.onEdit,s=e.className,f=Object(N.a)(e,["event","onDelete","onCancel","onAdd","onEdit","className"]),p=I(),b=Object(o.useState)(a||Object(r.a)({},J)),v=Object(l.a)(b,2),g=v[0],h=v[1],y=a?"edit":"add",E=function(e){e.persist(),h((function(t){return Object(r.a)({},t,Object(w.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))}))};return c.a.createElement(j.a,Object.assign({},f,{className:Object(A.a)(p.root,s),ref:t}),c.a.createElement("form",null,c.a.createElement(O.a,null,c.a.createElement(W.a,{align:"center",gutterBottom:!0,variant:"h3"},"add"===y?"Add Event":"Edit Event"),c.a.createElement(Y.a,{className:p.field,fullWidth:!0,label:"Title",name:"title",onChange:E,value:g.title,variant:"outlined"}),c.a.createElement(Y.a,{className:p.field,fullWidth:!0,label:"Description",name:"desc",onChange:E,value:g.desc,variant:"outlined"}),c.a.createElement(T.a,{className:p.field,control:c.a.createElement(S.a,{checked:g.allDay,name:"allDay",onChange:E}),label:"All day"}),c.a.createElement(Y.a,{className:p.field,defaultValue:d()(g.start).format("YYYY-MM-DDThh:mm:ss"),fullWidth:!0,label:"Start date",name:"start",onChange:E,type:"datetime-local",variant:"outlined"}),c.a.createElement(Y.a,{className:p.field,defaultValue:d()(g.end).format("YYYY-MM-DDThh:mm:ss"),disabled:g.allDay,fullWidth:!0,label:"End date",name:"end",onChange:E,type:"datetime-local",variant:"outlined"})),c.a.createElement(B.a,null),c.a.createElement(V.a,null,c.a.createElement(G.a,{edge:"start",onClick:function(){n&&n(a)}},c.a.createElement(H.a,null)),c.a.createElement(P.a,{className:p.cancelButton,onClick:i,variant:"contained"},"Cancel"),"add"===y?c.a.createElement(P.a,{className:p.confirmButton,onClick:function(){g.title&&g.desc&&u(Object(r.a)({},g,{id:M()()}))},variant:"contained"},"Add"):c.a.createElement(P.a,{className:p.confirmButton,onClick:function(){g.title&&g.desc&&m(g)},variant:"contained"},"Save"))))})),F=a(171),L=a(925),q=a(943),K=a(147),Q=a(1175),U=a.n(Q),X=a(1023),Z=a.n(X),$=a(1176),_=a.n($),ee=a(1177),te=a.n(ee),ae=Object(v.a)((function(){return{root:{}}})),ne=[{label:"Month",value:"dayGridMonth",icon:U.a},{label:"Week",value:"timeGridWeek",icon:Z.a},{label:"Day",value:"timeGridDay",icon:_.a},{label:"Agenda",value:"listWeek",icon:te.a}];var le=function(e){var t=e.date,a=e.view,n=e.onDatePrev,l=e.onDateNext,r=e.onEventAdd,o=e.onViewChange,i=e.onDateToday,u=e.className,m=Object(N.a)(e,["date","view","onDatePrev","onDateNext","onEventAdd","onViewChange","onDateToday","className"]),s=ae();return c.a.createElement("div",Object.assign({},m,{className:Object(A.a)(s.root,u)}),c.a.createElement(F.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},c.a.createElement(F.a,{item:!0},c.a.createElement(W.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Calendar"),c.a.createElement(W.a,{component:"h1",variant:"h3"},"Here's what you planned")),c.a.createElement(F.a,{item:!0},c.a.createElement(P.a,{color:"primary",onClick:r,variant:"contained"},"Add event"))),c.a.createElement(F.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},c.a.createElement(F.a,{item:!0},c.a.createElement(L.a,null,c.a.createElement(P.a,{onClick:n},"Prev"),c.a.createElement(P.a,{onClick:i},"Today"),c.a.createElement(P.a,{onClick:l},"Next"))),c.a.createElement(q.a,{smDown:!0},c.a.createElement(F.a,{item:!0},c.a.createElement(W.a,{variant:"h3"},d()(t).format("MMMM YYYY"))),c.a.createElement(F.a,{item:!0},ne.map((function(e){var t=e.icon;return c.a.createElement(K.a,{key:e.value,title:e.label},c.a.createElement(G.a,{color:e.value===a?"primary":"default",onClick:function(){return o(e.value)}},c.a.createElement(t,null)))}))))))},re=Object(v.a)((function(e){return{root:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3),"& .fc-unthemed td":{borderColor:e.palette.divider},"& .fc-widget-header":{backgroundColor:g.a.grey[50]},"& .fc-axis":Object(r.a)({},e.typography.body2),"& .fc-list-item-time":Object(r.a)({},e.typography.body2),"& .fc-list-item-title":Object(r.a)({},e.typography.body1),"& .fc-list-heading-main":Object(r.a)({},e.typography.h6),"& .fc-list-heading-alt":Object(r.a)({},e.typography.h6),"& .fc th":{borderColor:e.palette.divider},"& .fc-day-header":Object(r.a)({},e.typography.subtitle2,{fontWeight:500,color:e.palette.text.secondary,padding:e.spacing(1),backgroundColor:g.a.grey[50]}),"& .fc-day-top":Object(r.a)({},e.typography.body2),"& .fc-highlight":{backgroundColor:g.a.blueGrey[50]},"& .fc-event":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,borderWidth:2,opacity:.9,"& .fc-time":Object(r.a)({},e.typography.h6,{color:"inherit"}),"& .fc-title":Object(r.a)({},e.typography.body1,{color:"inherit"})},"& .fc-list-empty":Object(r.a)({},e.typography.subtitle1)},card:{marginTop:e.spacing(3)}}}));t.default=function(){var e=re(),t=Object(o.useRef)(null),a=Object(h.a)(),r=Object(y.a)(a.breakpoints.down("sm")),i=Object(o.useState)(r?"listWeek":"dayGridMonth"),v=Object(l.a)(i,2),g=v[0],w=v[1],N=Object(o.useState)(d()("2019-07-30 08:00:00").toDate()),A=Object(l.a)(N,2),x=A[0],M=A[1],W=Object(o.useState)([]),Y=Object(l.a)(W,2),T=Y[0],S=Y[1],B=Object(o.useState)({open:!1,event:null}),V=Object(l.a)(B,2),G=V[0],P=V[1],R=function(){P({open:!1,event:null})};return Object(o.useEffect)((function(){var e=!0;return e&&C.a.get("/api/calendar").then((function(e){return S(e.data.events)})),function(){e=!1}}),[]),Object(o.useEffect)((function(){var e=t.current.getApi(),a=r?"listWeek":"dayGridMonth";e.changeView(a),w(a)}),[r]),c.a.createElement(k.a,{className:e.root,title:"Calendar"},c.a.createElement(E.a,{maxWidth:!1},c.a.createElement(le,{date:x,onDateNext:function(){var e=t.current.getApi();e.next(),M(e.getDate())},onDatePrev:function(){var e=t.current.getApi();e.prev(),M(e.getDate())},onDateToday:function(){var e=t.current.getApi();e.today(),M(e.getDate())},onEventAdd:function(){P({open:!0,event:null})},onViewChange:function(e){t.current.getApi().changeView(e),w(e)},view:g}),c.a.createElement(j.a,{className:e.card},c.a.createElement(O.a,null,c.a.createElement(u.a,{allDayMaintainDuration:!0,defaultDate:x,defaultView:g,droppable:!0,editable:!0,eventClick:function(e){var t=T.find((function(t){return t.id===e.event.id}));P({open:!0,event:t})},eventResizableFromStart:!0,events:T,header:!1,height:800,plugins:[m.d,s.a,f.a,p.a,b.a],ref:t,rerenderDelay:10,selectable:!0,weekends:!0}))),c.a.createElement(D.a,{onClose:R,open:G.open},c.a.createElement(z,{event:G.event,onAdd:function(e){S((function(t){return[].concat(Object(n.a)(t),[e])})),P({open:!1,event:null})},onCancel:R,onDelete:function(e){S((function(t){return t.filter((function(t){return t.id!==e.id}))})),P({open:!1,event:null})},onEdit:function(e){S((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),P({open:!1,event:null})}}))))}}}]);
//# sourceMappingURL=37.1ae495c4.chunk.js.map